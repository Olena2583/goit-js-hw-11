{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["`use strict`;\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport async function fetchImages(query) {\n  const API_KEY = '46878929-31b62e2632123f6a0a302d7dc';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(URL);\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return [];\n    }\n\n    return data.hits;\n  } catch (error) {\n    iziToast.error({\n      message: 'An error occurred while fetching images. Please try again.',\n    });\n    console.error('Error fetching images:', error);\n    return [];\n  }\n}\n","`use strict`;\n\nexport function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  const imageElements = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          <div class=\"gallery__info\">\n            <p>Likes: ${image.likes}</p>\n            <p>Views: ${image.views}</p>\n            <p>Comments: ${image.comments}</p>\n            <p>Downloads: ${image.downloads}</p>\n          </div>\n        </a>\n      `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', imageElements);\n}\n","'use strict';\nimport { fetchImages } from '../src/js/pixabay-api.js';\nimport { renderImages } from '../src/js/render-functions.js';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\n\nconst showLoader = () => loader.classList.add('visible');\nconst hideLoader = () => loader.classList.remove('visible');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = event.currentTarget.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.warning({ message: 'Please enter a search term!' });\n    return;\n  }\n\n  showLoader();\n\n  try {\n    const images = await fetchImages(query);\n    renderImages(images);\n\n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    }\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["fetchImages","query","URL","data","error","renderImages","images","gallery","imageElements","image","form","loader","lightbox","showLoader","hideLoader","event"],"mappings":"0uBAIO,eAAeA,EAAYC,EAAO,CAEvC,MAAMC,EAAM,qEAA6CD,CAAK,2DAE9D,GAAI,CAEF,MAAME,EAAO,MADI,MAAM,MAAMD,CAAG,GACJ,OAE5B,OAAIC,EAAK,KAAK,SAAW,GACvB,SAAS,MAAM,CACb,QACE,0EACV,CAAO,EACM,IAGFA,EAAK,IACb,OAAQC,EAAO,CACd,gBAAS,MAAM,CACb,QAAS,4DACf,CAAK,EACD,QAAQ,MAAM,yBAA0BA,CAAK,EACtC,EACR,CACH,CC1BO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAgBF,EACnB,IACCG,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wBAEpCA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAItC,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAa,CACvD,CCjBA,MAAME,EAAO,SAAS,cAAc,cAAc,EAClC,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAEJ,MAAMC,EAAa,IAAMF,EAAO,UAAU,IAAI,SAAS,EACjDG,EAAa,IAAMH,EAAO,UAAU,OAAO,SAAS,EAE1DD,EAAK,iBAAiB,SAAU,MAAMK,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMd,EAAQc,EAAM,cAAc,SAAS,MAAM,MAAM,OAEvD,GAAI,CAACd,EAAO,CACV,SAAS,QAAQ,CAAE,QAAS,6BAA+B,CAAA,EAC3D,MACD,CAEDY,IAEA,GAAI,CACF,MAAMP,EAAS,MAAMN,EAAYC,CAAK,EACtCI,EAAaC,CAAM,EAEfM,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAI,eAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAO,CAEJ,OAAQR,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,CACjC,QAAY,CACRU,GACD,CACH,CAAC"}